sudo: enabled

language: cpp


os: linux
addons:
  apt:
    sources:
      - ubuntu-toolchain-r-test
    packages:
      - g++-7

before_install:
  - export CC=gcc-7
  - export CXX=g++-7
  - pip install --user cpp-coveralls
  - export CURRENT_PROJ_DIR=$(pwd)
  - mkdir gtest
  - cd gtest
  - git clone https://github.com/google/googletest.git
  - cd googletest/googletest
  - export GTEST_DIR=$(pwd)
  - cmake "${GTEST_DIR}"
  - cd "${CURRENT_PROJ_DIR}"

script:
  - make clean
  - make
  - ./TicTacToeBoardTest
  - coveralls --exclude *Test.cpp --exclude ${GTEST_DIR} --gcov-options '\-lpbc'
